{"ast":null,"code":"'use strict';\n\nfunction buildRange(item) {\n  return {\n    start: item,\n    count: 1\n  };\n}\n\nfunction completeRangeWithItem(range, item) {\n  range.end = item;\n  range.step = item - range.start;\n  range.count = 2;\n}\n\nfunction finalizeCurrentRange(results, currentRange, currentItemRange) {\n  if (currentRange) {\n    // Two elements do not form a range so split them into 2 single elements\n    if (currentRange.count === 2) {\n      results.push(buildRange(currentRange.start));\n      results.push(buildRange(currentRange.end));\n    } else {\n      results.push(currentRange);\n    }\n  }\n\n  if (currentItemRange) {\n    results.push(currentItemRange);\n  }\n}\n\nfunction compactField(arr) {\n  var results = [];\n  var currentRange = undefined;\n\n  for (var i = 0; i < arr.length; i++) {\n    var currentItem = arr[i];\n\n    if (typeof currentItem !== 'number') {\n      // String elements can't form a range\n      finalizeCurrentRange(results, currentRange, buildRange(currentItem));\n      currentRange = undefined;\n    } else if (!currentRange) {\n      // Start a new range\n      currentRange = buildRange(currentItem);\n    } else if (currentRange.count === 1) {\n      // Guess that the current item starts a range\n      completeRangeWithItem(currentRange, currentItem);\n    } else {\n      if (currentRange.step === currentItem - currentRange.end) {\n        // We found another item that matches the current range\n        currentRange.count++;\n        currentRange.end = currentItem;\n      } else if (currentRange.count === 2) {\n        // The current range can't be continued\n        // Break the first item of the current range into a single element, and try to start a new range with the second item\n        results.push(buildRange(currentRange.start));\n        currentRange = buildRange(currentRange.end);\n        completeRangeWithItem(currentRange, currentItem);\n      } else {\n        // Persist the current range and start a new one with current item\n        finalizeCurrentRange(results, currentRange);\n        currentRange = buildRange(currentItem);\n      }\n    }\n  }\n\n  finalizeCurrentRange(results, currentRange);\n  return results;\n}\n\nmodule.exports = compactField;","map":{"version":3,"names":["buildRange","item","start","count","completeRangeWithItem","range","end","step","finalizeCurrentRange","results","currentRange","currentItemRange","push","compactField","arr","undefined","i","length","currentItem","module","exports"],"sources":["D:/Other Files/tktnew/eMandate/client/node_modules/cron-parser/lib/field_compactor.js"],"sourcesContent":["'use strict';\n\nfunction buildRange(item) {\n  return {\n    start: item,\n    count: 1\n  };\n}\n\nfunction completeRangeWithItem(range, item) {\n  range.end = item;\n  range.step = item - range.start;\n  range.count = 2;\n}\n\nfunction finalizeCurrentRange(results, currentRange, currentItemRange) {\n  if (currentRange) {\n    // Two elements do not form a range so split them into 2 single elements\n    if (currentRange.count === 2) {\n      results.push(buildRange(currentRange.start));\n      results.push(buildRange(currentRange.end));\n    } else {\n      results.push(currentRange);\n    }\n  }\n  if (currentItemRange) {\n    results.push(currentItemRange);\n  }\n}\n\nfunction compactField(arr) {\n  var results = [];\n  var currentRange = undefined;\n\n  for (var i = 0; i < arr.length; i++) {\n    var currentItem = arr[i];\n    if (typeof currentItem !== 'number') {\n      // String elements can't form a range\n      finalizeCurrentRange(results, currentRange, buildRange(currentItem));\n      currentRange = undefined;\n    } else if (!currentRange) {\n      // Start a new range\n      currentRange = buildRange(currentItem);\n    } else if (currentRange.count === 1) {\n      // Guess that the current item starts a range\n      completeRangeWithItem(currentRange, currentItem);\n    } else {\n      if (currentRange.step === currentItem - currentRange.end) {\n        // We found another item that matches the current range\n        currentRange.count++;\n        currentRange.end = currentItem;\n      } else if (currentRange.count === 2) { // The current range can't be continued\n        // Break the first item of the current range into a single element, and try to start a new range with the second item\n        results.push(buildRange(currentRange.start));\n        currentRange = buildRange(currentRange.end);\n        completeRangeWithItem(currentRange, currentItem);\n      } else {\n        // Persist the current range and start a new one with current item\n        finalizeCurrentRange(results, currentRange);\n        currentRange = buildRange(currentItem);\n      }\n    }\n  }\n\n  finalizeCurrentRange(results, currentRange);\n\n  return results;\n}\n\nmodule.exports = compactField;\n"],"mappings":"AAAA;;AAEA,SAASA,UAAT,CAAoBC,IAApB,EAA0B;EACxB,OAAO;IACLC,KAAK,EAAED,IADF;IAELE,KAAK,EAAE;EAFF,CAAP;AAID;;AAED,SAASC,qBAAT,CAA+BC,KAA/B,EAAsCJ,IAAtC,EAA4C;EAC1CI,KAAK,CAACC,GAAN,GAAYL,IAAZ;EACAI,KAAK,CAACE,IAAN,GAAaN,IAAI,GAAGI,KAAK,CAACH,KAA1B;EACAG,KAAK,CAACF,KAAN,GAAc,CAAd;AACD;;AAED,SAASK,oBAAT,CAA8BC,OAA9B,EAAuCC,YAAvC,EAAqDC,gBAArD,EAAuE;EACrE,IAAID,YAAJ,EAAkB;IAChB;IACA,IAAIA,YAAY,CAACP,KAAb,KAAuB,CAA3B,EAA8B;MAC5BM,OAAO,CAACG,IAAR,CAAaZ,UAAU,CAACU,YAAY,CAACR,KAAd,CAAvB;MACAO,OAAO,CAACG,IAAR,CAAaZ,UAAU,CAACU,YAAY,CAACJ,GAAd,CAAvB;IACD,CAHD,MAGO;MACLG,OAAO,CAACG,IAAR,CAAaF,YAAb;IACD;EACF;;EACD,IAAIC,gBAAJ,EAAsB;IACpBF,OAAO,CAACG,IAAR,CAAaD,gBAAb;EACD;AACF;;AAED,SAASE,YAAT,CAAsBC,GAAtB,EAA2B;EACzB,IAAIL,OAAO,GAAG,EAAd;EACA,IAAIC,YAAY,GAAGK,SAAnB;;EAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;IACnC,IAAIE,WAAW,GAAGJ,GAAG,CAACE,CAAD,CAArB;;IACA,IAAI,OAAOE,WAAP,KAAuB,QAA3B,EAAqC;MACnC;MACAV,oBAAoB,CAACC,OAAD,EAAUC,YAAV,EAAwBV,UAAU,CAACkB,WAAD,CAAlC,CAApB;MACAR,YAAY,GAAGK,SAAf;IACD,CAJD,MAIO,IAAI,CAACL,YAAL,EAAmB;MACxB;MACAA,YAAY,GAAGV,UAAU,CAACkB,WAAD,CAAzB;IACD,CAHM,MAGA,IAAIR,YAAY,CAACP,KAAb,KAAuB,CAA3B,EAA8B;MACnC;MACAC,qBAAqB,CAACM,YAAD,EAAeQ,WAAf,CAArB;IACD,CAHM,MAGA;MACL,IAAIR,YAAY,CAACH,IAAb,KAAsBW,WAAW,GAAGR,YAAY,CAACJ,GAArD,EAA0D;QACxD;QACAI,YAAY,CAACP,KAAb;QACAO,YAAY,CAACJ,GAAb,GAAmBY,WAAnB;MACD,CAJD,MAIO,IAAIR,YAAY,CAACP,KAAb,KAAuB,CAA3B,EAA8B;QAAE;QACrC;QACAM,OAAO,CAACG,IAAR,CAAaZ,UAAU,CAACU,YAAY,CAACR,KAAd,CAAvB;QACAQ,YAAY,GAAGV,UAAU,CAACU,YAAY,CAACJ,GAAd,CAAzB;QACAF,qBAAqB,CAACM,YAAD,EAAeQ,WAAf,CAArB;MACD,CALM,MAKA;QACL;QACAV,oBAAoB,CAACC,OAAD,EAAUC,YAAV,CAApB;QACAA,YAAY,GAAGV,UAAU,CAACkB,WAAD,CAAzB;MACD;IACF;EACF;;EAEDV,oBAAoB,CAACC,OAAD,EAAUC,YAAV,CAApB;EAEA,OAAOD,OAAP;AACD;;AAEDU,MAAM,CAACC,OAAP,GAAiBP,YAAjB"},"metadata":{},"sourceType":"script"}