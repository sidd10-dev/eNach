{"ast":null,"code":"var _jsxFileName = \"D:\\\\Other Files\\\\tktnew\\\\eMandate\\\\client\\\\src\\\\components\\\\logs\\\\logs.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useRef, useState } from 'react';\nimport styles from './logs.module.css';\nimport Navbar from \"../Navbar/navbar\";\nimport Button from '../Button/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Log = props => {\n  _s();\n\n  const startref = useRef();\n  const endref = useRef();\n  const [logs, setLogs] = useState([]);\n\n  const formSubmitHandler = event => {\n    event.preventDefault();\n    const startDate = startref.current.value;\n    const endDate = endref.current.value;\n    console.log(startDate);\n    axios.post('http://localhost:3001/api/getLogs', {\n      startDate,\n      endDate\n    }).then(res => {\n      // console.log(res.data)\n      setLogs(res.data);\n      console.log(res);\n    }).catch(e => console.log(e));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      elements: [{\n        name: \"Logout\",\n        link: \"logout\",\n        click: false\n      }, {\n        name: \"eMandate\",\n        link: \"eMandate\",\n        click: false\n      }, {\n        name: \"Logs\",\n        link: \"logs\",\n        click: true\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.log,\n        children: \"Logs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: styles.filter,\n        onSubmit: formSubmitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.icont,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.desc,\n            children: \"Start Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.box,\n            type: \"date\",\n            ref: startref\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.icont,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.desc,\n            children: \"End Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.box,\n            type: \"date\",\n            ref: endref\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: styles.btn,\n          type: \"submit\",\n          children: [\"Search\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSearch,\n            className: styles.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 72\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), logs.length == 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No Logs!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)\n      }, void 0, false), logs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.logging,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.columns,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.id,\n            children: \"Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.msg,\n            children: \"Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.timestamp,\n            children: \"Timestamp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.user,\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.ip,\n            children: \"User IP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.underline\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this), logs && logs.map(log => {\n          const reqBy = JSON.parse(log.metadata).requestBy;\n          const ip = JSON.parse(log.metadata).ip;\n          const d = new Date(log.addDate);\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.rows,\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: `${styles['id']} ${styles['contents']}`,\n                children: log.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: `${styles['msg']} ${styles['contents']}`,\n                children: log.log\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: `${styles['timestamp']} ${styles['contents']}`,\n                children: log.addDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: `${styles['user']} ${styles['contents']}`,\n                children: reqBy || \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: `${styles['ip']} ${styles['contents']}`,\n                children: ip || \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.underline\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Log, \"n62o7wgyStGP2YK4bBdDGAaoZv0=\");\n\n_c = Log;\nexport default Log;\n\nvar _c;\n\n$RefreshReg$(_c, \"Log\");","map":{"version":3,"names":["React","useRef","useState","styles","Navbar","Button","FontAwesomeIcon","faSearch","axios","Log","props","startref","endref","logs","setLogs","formSubmitHandler","event","preventDefault","startDate","current","value","endDate","console","log","post","then","res","data","catch","e","name","link","click","container","filter","icont","desc","box","btn","icon","length","logging","columns","id","msg","timestamp","user","ip","underline","map","reqBy","JSON","parse","metadata","requestBy","d","Date","addDate","rows"],"sources":["D:/Other Files/tktnew/eMandate/client/src/components/logs/logs.js"],"sourcesContent":["import React from 'react'\r\nimport { useRef, useState } from 'react';\r\nimport styles from './logs.module.css'\r\nimport Navbar from \"../Navbar/navbar\";\r\nimport Button from '../Button/Button';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nconst Log = (props) => {\r\n\r\n    const startref = useRef()\r\n    const endref = useRef()\r\n    const [logs, setLogs] = useState([])\r\n\r\n    const formSubmitHandler = (event) => {\r\n        event.preventDefault()\r\n        const startDate = startref.current.value\r\n        const endDate = endref.current.value\r\n        console.log(startDate)\r\n        axios.post('http://localhost:3001/api/getLogs', {\r\n            startDate,\r\n            endDate\r\n        }).then(res => {\r\n            // console.log(res.data)\r\n            setLogs(res.data)\r\n            console.log(res)\r\n        }).catch(e => console.log(e))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navbar elements={[\r\n                {\r\n                    name: \"Logout\",\r\n                    link: \"logout\",\r\n                    click: false\r\n                },\r\n                {\r\n                    name: \"eMandate\",\r\n                    link: \"eMandate\",\r\n                    click: false\r\n                },\r\n                {\r\n                    name: \"Logs\",\r\n                    link: \"logs\",\r\n                    click: true\r\n                }\r\n            ]}></Navbar>\r\n            <div className={styles.container}>\r\n                <h2 className={styles.log}>Logs</h2>\r\n                <form className={styles.filter} onSubmit={formSubmitHandler}>\r\n                    <div className={styles.icont}>\r\n                        <label className={styles.desc}>Start Date:</label>\r\n                        <input className={styles.box} type='date' ref={startref}></input>\r\n                    </div>\r\n                    <div className={styles.icont}>\r\n                        <label className={styles.desc}>End Date:</label>\r\n                        <input className={styles.box} type='date' ref={endref}></input>\r\n                    </div>\r\n                    <Button className={styles.btn} type=\"submit\">Search<FontAwesomeIcon icon={faSearch} className={styles.icon} /></Button>\r\n                </form>\r\n\r\n                {(logs.length == 0) && (\r\n                    <>\r\n                        <p>No Logs!</p>\r\n                    </>\r\n                )}\r\n\r\n                {(logs.length > 0) && (\r\n                    <div className={styles.logging}>\r\n                        <div className={styles.columns}>\r\n                            <div className={styles.id}>Id</div>\r\n                            <div className={styles.msg}>Message</div>\r\n                            <div className={styles.timestamp}>Timestamp</div>\r\n                            <div className={styles.user}>User</div>\r\n                            <div className={styles.ip}>User IP</div>\r\n                        </div>\r\n\r\n                        <div className={styles.underline}></div>\r\n                        {logs && logs.map(log => {\r\n                            const reqBy = JSON.parse(log.metadata).requestBy\r\n                            const ip = JSON.parse(log.metadata).ip\r\n                            const d = new Date(log.addDate)\r\n                            return (\r\n                                <>\r\n                                    <div className={styles.rows}>\r\n                                        <h1 className={`${styles['id']} ${styles['contents']}`}>{log.id}</h1>\r\n                                        <h1 className={`${styles['msg']} ${styles['contents']}`}>{log.log}</h1>\r\n                                        <h1 className={`${styles['timestamp']} ${styles['contents']}`}>{log.addDate}</h1>\r\n                                        <h1 className={`${styles['user']} ${styles['contents']}`}>{reqBy || \"-\"}</h1>\r\n                                        <h1 className={`${styles['ip']} ${styles['contents']}`}>{ip || \"-\"}</h1>\r\n                                    </div>\r\n\r\n                                    <div className={styles.underline}></div>\r\n                                </>\r\n                            )\r\n                        })}\r\n\r\n                    </div>\r\n                )}\r\n\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Log;"],"mappings":"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"},"metadata":{},"sourceType":"module"}